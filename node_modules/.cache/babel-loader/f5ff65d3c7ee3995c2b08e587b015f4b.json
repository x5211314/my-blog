{"ast":null,"code":"import _toConsumableArray from \"/Users/apple/Desktop/worker/my-blog/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/apple/Desktop/worker/my-blog/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/apple/Desktop/worker/my-blog/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/apple/Desktop/worker/my-blog/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/apple/Desktop/worker/my-blog/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/apple/Desktop/worker/my-blog/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/apple/Desktop/worker/my-blog/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/apple/Desktop/worker/my-blog/src/TodoList.js\";\n\n/* eslint-disable no-useless-constructor */\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport TodoItem from './TodoItem';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\n\nvar TodoList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TodoList, _Component);\n\n  function TodoList(props) {\n    var _this;\n\n    _classCallCheck(this, TodoList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TodoList).call(this, props));\n    _this.state = {\n      inputValue: '',\n      list: []\n    };\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_this));\n    _this.handleBtnClick = _this.handleBtnClick.bind(_assertThisInitialized(_this));\n    _this.handleDelItem = _this.handleDelItem.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(TodoList, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      console.log('componentWillMount');\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate() {\n      console.log('shouldComponentUpdate');\n      return true;\n    }\n  }, {\n    key: \"componentWillUpdate\",\n    value: function componentWillUpdate() {\n      console.log('componentWillUpdate');\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      console.log('componentDidMount');\n      axios.get('./api/TodoList.json').then(function (res) {\n        _this2.setState(function () {\n          return {\n            list: _toConsumableArray(res.data.list)\n          };\n        });\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"componentDidCatch\",\n    value: function componentDidCatch() {\n      console.log('componentDidCatch');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log('parent render');\n      var inputValue = this.state.inputValue;\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        value: inputValue,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.handleBtnClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"\\u63D0\\u4EA4\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(TransitionGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      },\n      /* <li>vue</li>\n      <li>react</li> */\n      this.getTodoItem())));\n    }\n  }, {\n    key: \"getTodoItem\",\n    value: function getTodoItem() {\n      var _this3 = this;\n\n      var list = this.state.list;\n      return list.map(function (item, index) {\n        return React.createElement(CSSTransition, {\n          key: index,\n          timeout: 1000,\n          classNames: \"fade\",\n          appear: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, React.createElement(TodoItem, {\n          index: index,\n          delItem: _this3.handleDelItem,\n          content: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }));\n      });\n    }\n  }, {\n    key: \"handleInputChange\",\n    value: function handleInputChange(e) {\n      var inputValue = e.target.value;\n      this.setState(function () {\n        return {\n          inputValue: inputValue\n        };\n      });\n    }\n  }, {\n    key: \"handleBtnClick\",\n    value: function handleBtnClick(e) {\n      this.setState(function (prevState) {\n        return {\n          list: [].concat(_toConsumableArray(prevState.list), [prevState.inputValue]),\n          inputValue: ''\n        };\n      });\n    }\n  }, {\n    key: \"handleDelItem\",\n    value: function handleDelItem(index) {\n      this.setState(function (prevState) {\n        var list = _toConsumableArray(prevState.list);\n\n        list.splice(index, 1);\n        return {\n          list: list\n        };\n      });\n    }\n  }]);\n\n  return TodoList;\n}(Component);\n\nexport default TodoList;","map":{"version":3,"sources":["/Users/apple/Desktop/worker/my-blog/src/TodoList.js"],"names":["React","Component","axios","TodoItem","TransitionGroup","CSSTransition","TodoList","props","state","inputValue","list","handleInputChange","bind","handleBtnClick","handleDelItem","console","log","get","then","res","setState","data","catch","err","getTodoItem","map","item","index","e","target","value","prevState","splice"],"mappings":"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","sourcesContent":["/* eslint-disable no-useless-constructor */\nimport React, { Component } from 'react'\nimport axios from 'axios'\nimport TodoItem from './TodoItem'\nimport { TransitionGroup, CSSTransition } from 'react-transition-group'\n\nclass TodoList extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            inputValue: '',\n            list: []\n        }\n        this.handleInputChange = this.handleInputChange.bind(this)\n        this.handleBtnClick = this.handleBtnClick.bind(this)\n        this.handleDelItem = this.handleDelItem.bind(this)\n    }\n\n    componentWillMount() {\n        console.log('componentWillMount')\n    }\n    shouldComponentUpdate() {\n        console.log('shouldComponentUpdate')\n        return true;\n    }\n    componentWillUpdate() {\n        console.log('componentWillUpdate')\n    }\n    componentDidMount() {\n        console.log('componentDidMount')\n        axios.get('./api/TodoList.json')\n            .then(res => {\n                this.setState(() => ({\n                    list: [...res.data.list]\n                }))\n            })\n            .catch(err => { console.log(err) })\n    }\n    componentDidCatch() {\n        console.log('componentDidCatch')\n    }\n    \n    render() {\n        console.log('parent render')\n        const { inputValue } = this.state\n        \n        return (\n            <>\n                <div>\n                    <input value={inputValue} onChange={this.handleInputChange}/>\n                    <button onClick={this.handleBtnClick}>提交</button>\n                </div>\n                <div>\n                    <TransitionGroup>\n                    {\n                        /* <li>vue</li>\n                        <li>react</li> */\n                        this.getTodoItem()\n                    }\n                    </TransitionGroup>\n                </div>\n            </>\n        )\n    }\n\n    getTodoItem() {\n        const { list } = this.state\n        return list.map(\n            (item, index) => (\n                <CSSTransition key={index} timeout={1000} classNames=\"fade\" appear={true}>\n                    <TodoItem index={index} delItem={this.handleDelItem} content={item}/>\n                </CSSTransition>\n            )\n        )\n    }\n\n    handleInputChange(e) {\n        const inputValue = e.target.value\n        this.setState(() => ({inputValue}))\n    }\n    handleBtnClick(e) {\n        this.setState((prevState) => ({\n            list: [...prevState.list, prevState.inputValue],\n            inputValue: ''\n        }))\n    }\n    handleDelItem(index) {\n        this.setState((prevState) => {\n            const list = [...prevState.list]\n            list.splice(index, 1)\n            return { list }\n        })\n    }\n}\n\nexport default TodoList;"]},"metadata":{},"sourceType":"module"}